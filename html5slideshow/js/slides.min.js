(function(){var c={vendorID:"w3",browserPrefix:"",reqFull:"requestFullScreen",canFull:"cancelFullScreen"};-1!==navigator.userAgent.indexOf("MSIE")||0<navigator.appVersion.indexOf("Trident/")?(c.vendorID="ie",c.browserPrefix="ms"):-1<navigator.userAgent.indexOf("WebKit")?(c.vendorID="wk",c.browserPrefix="webkit"):-1<navigator.userAgent.indexOf("Gecko")?(c.vendorID="ff",c.browserPrefix="moz"):-1<navigator.userAgent.indexOf("Opera")?(c.vendorID="op",c.browserPrefix="o"):-1<navigator.userAgent.indexOf("KHTML")&&
(c.vendorID="kd",c.browserPrefix="khtml");window.vendorQuirk=c})();
(function(){var c={supportsFullScreen:!1,isFullScreen:function(){return!1},requestFullScreen:function(){},cancelFullScreen:function(){},fullScreenEventName:"",prefix:""};"undefined"!=typeof document.cancelFullScreen?c.supportsFullScreen=!0:"undefined"!=typeof document[vendorQuirk.browserPrefix+"CancelFullScreen"]&&(c.supportsFullScreen=!0,c.prefix=vendorQuirk.browserPrefix);c.supportsFullScreen&&(c.fullScreenEventName=c.prefix+"fullscreenchange",c.isFullScreen=function(){switch(this.prefix){case "":return document.fullScreen;
case "webkit":return document.webkitIsFullScreen;default:return document[this.prefix+"FullScreen"]}},c.requestFullScreen=function(c){return""===this.prefix?c.requestFullScreen():c[this.prefix+"RequestFullScreen"]()},c.cancelFullScreen=function(){return""===this.prefix?document.cancelFullScreen():document[this.prefix+"CancelFullScreen"]()});window.fullScreenApi=c})();function $id(c){return document.getElementById(c)}
var ssCtl=function(){function c(a){return 0>a?(a=-1*a%h,h-a):a%h}function r(a,b,g){a.eMsg=null;"ff"==vendorQuirk.vendorID&&(a.src="",a.completed=!1);a.src=imagelist[b].fpath;console.log(a.src);a.slidnum=b;a.isSized=!1;trzn.preS(a,g)}function N(a){a.className=w;F.innerHTML=a.slidnum+1;t.innerHTML=imagelist[a.slidnum].title;a.eMsg&&(t.innerHTML+=a.eMsg);x&&!z&&(k=setTimeout(function(){l(1)},p))}function O(){trzn.pull(e[f],!0);var a=e.shift(),b=c(m+n);trzn.getI(a,b,!1);m=(m+1)%h;e.push(a)}function P(){trzn.pull(e[f],
!1);var a=e.pop(),b=c(m-1);trzn.getI(a,b,!0);m=b;e.unshift(a)}function l(a){if(!d.repeat&&1==a&&m+f+1==h)return d.doMnu(0),!1;1<e.length&&(0<a?O():0>a&&P());var b=e[f];0!==a&&(t.innerHTML="");G(b,function(){N(b)});return!0}function H(){A.style.backgroundPosition="-54px 0";k&&(clearTimeout(k),k=null);x=!1;x=!0;l(0)}function u(){A.style.backgroundPosition="-72px 0";k&&(clearTimeout(k),k=null);x=!1}function B(){var a,b=e.length;for(a=0;a<b;a++)q(e[a],null)}function q(a,b){if(a.complete){var g=window.innerHeight,
c=window.innerWidth,d=a.naturalWidth,e=a.naturalHeight;imagelist[a.slidnum].title&&(g-=26);if(0<d&&0<e){var f=e>g?g:e;g=Math.round(d*f/e);g>c&&(g=c,f=Math.round(e*g/d));a.height=f;a.width=g;a.isSized=!0}b&&b()}else setTimeout(function(){q(a,b)},100)}function G(a,b){if(a.isSized){C.style.display="none";var c=window.innerWidth,e=a.width;a.style.left=e<c?Math.floor((c-e)/2)+"px":"0px";b&&b()}else C.style.display="block",setTimeout(function(){G(a,b)},100)}function D(a){var b;m=c(a-f);var g=n-f;for(b=
0;b<g;b++){var d=c(b+a);r(e[b+f],d,!1)}for(b=0;b<f;b++)d=c(a-f+b),r(e[b],d,!0)}function I(a,b){a.preventDefault&&a.preventDefault();a.stopPropagation&&a.stopPropagation();switch(b){case 32:d.doMnu(3);break;case 37:d.doMnu(2);break;case 39:d.doMnu(4);break;case 27:d.doMnu(0);break;case 91:d.doMnu(1);break;case 93:d.doMnu(5);break;case 9:case 13:d.doMnu(6)}}function Q(a){var b=a.changedTouches[0],c=J-b.clientX;b=K-b.clientY;a.preventDefault();400<a.timeStamp-L||(Math.abs(c)>Math.abs(b)?150<Math.abs(c)&&
(0<c?d.doMnu(4):d.doMnu(2)):150<Math.abs(b)&&d.doMnu(3))}function R(a){var b=a.changedTouches[0];J=b.clientX;K=b.clientY;L=a.timeStamp;a.preventDefault()}function S(){E&&clearTimeout(E);E=setTimeout(function(){z=!0;trzn.resz();l(0);z=!1},200)}function M(){$id("seconds").innerHTML=Math.round(p/1E3)}function T(){this.eMsg='<p class="errMsg">'+imgerror+this.src+"</p>";this.src="plugins/html5slideshow/css/broken.png"}var d={autoPlay:!0,slideDur:7E3,trnType:"d",repeat:!1},h=0,n=5,f=2,m=0,e=[],y,w,p=7E3,
k=null,x=!1,v=null,F=null,t=null,A=null,C,E=null,z=!1,J,K,L,U={preS:function(a){q(a,null)},pull:function(a,b){a.className="islide img_hide"},getI:function(a,b,c){r(a,b,c)},resz:function(){B()}},V={preS:function(a){q(a,null)},pull:function(a,b){a.className="islide img_off"},getI:function(a,b,c){r(a,b,c)},resz:function(){B()}},W={preS:function(a,b){b?q(a,function(){a.style.left=-(a.width+2)+"px"}):q(a,function(){a.style.left=window.innerWidth+2+"px"})},pull:function(a,b){a.style.left=b?-(a.width+2)+
"px":window.innerWidth+2+"px"},getI:function(a,b,c){a.className="islide";r(a,b,c)},resz:function(){var a=n-f,b;B();for(b=0;b<a;b++){var c=e[b+f];c.style.left=window.innerWidth+2+"px"}for(b=0;b<f;b++)c=e[b],c.style.left=-(c.width+2)+"px"}};d.doMnu=function(a){switch(a){case 0:popdwin?window.close():window.history.back();break;case 1:u();D(0);l(0);break;case 2:u();l(-1);break;case 3:k?u():H();break;case 4:u();l(1);break;case 5:u();D(h-1);l(0);break;case 6:a=$id("cb_full"),v.isFullScreen()?(v.cancelFullScreen(),
a.style.backgroundPosition="-126px 0"):v.supportsFullScreen&&(v.requestFullScreen(document.body),a.style.backgroundPosition="-144px 0")}};d.sdur=function(a){a?p+=1E3:3E3<p&&(p-=1E3);M()};d.init=function(a){var b,c=$id("screen");trzn=U;w="islide img_show";y="islide img_hide";switch(this.trnType){case "d":trzn=V;w="islide img_on";y="islide img_off";break;case "s":trzn=W,w="islide img_slin",y="islide"}h=imagelist.length;h<n&&(n=h);for(b=0;b<n;b++){var d=document.createElement("IMG");d.onerror=T;d.style.left=
window.innerWidth+2+"px";d.className=y;e.push(d);c.appendChild(d)}f=Math.floor(n/2);c.addEventListener("touchstart",R,!1);c.addEventListener("touchmove",function(a){a.preventDefault()},!1);c.addEventListener("touchend",Q,!1);v=a;F=$id("slidnum");t=$id("ptext");A=$id("cb_paus");C=$id("loading");p=this.slideDur;M();D(0);this.autoPlay?H():l(0);window.onresize=S};document.addEventListener("keypress",function(a){switch(a.charCode){case 32:case 91:case 93:case 13:I(a,a.charCode)}},!1);document.addEventListener("keydown",
function(a){switch(a.keyCode){case 37:case 39:case 27:case 9:I(a,a.keyCode)}},!1);return d}();window.onload=function(){ssCtl.init(fullScreenApi)};